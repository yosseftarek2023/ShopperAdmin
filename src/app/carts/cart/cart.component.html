<div class="cart-box mt-5">

    <form [formGroup]="form" action="">
        <div class="row my-5">
            <div class="col-md-3">
                <label> Start Date</label>
                <input type="date" formControlName="start" class="form-control">
            </div>
            <div class="col-md-3">
                <label> End Date</label>
                <input type="date" formControlName="end" class="form-control">
            </div>
            <div class="col-md-2 d-flex align-items-end">
                <button class="btn btn-success" (click) = "apply()">Apply</button>
            </div>
        </div>
    </form>
    <table class="table table-striped mt-2 ">
        <thead>
            <tr>
                <th>Date</th>
                <th>Quantity</th>
                <th></th>
              </tr>
        </thead>
          <tbody>
            <tr *ngFor="let product of carts; let index = index">
                <td class="fw-bold">{{product.date | date:"shortDate"}}</td>
                <td>{{product.products.length}}</td>
                <td> 
                    <button class="btn btn-danger fw-bold" (click)="deleteCart(product.id);"> Delete</button> 
                    <button type="button" class="btn btn-primary ms-3" data-bs-toggle="modal" data-bs-target="#exampleModal"
                    (click)="view(index)">
                        View
                      </button>               
                </td>
            </tr>
          </tbody>
      </table>
</div>



  
  <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" style="max-width: 1200px !important;">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="exampleModalLabel">Cart Details</h1>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
            <table class="table table-striped mt-2 ">
                <thead>
                    <tr>
                        <th></th>
                        <th>Name</th>
                        <th>Price</th>
                        <th>Quantity</th>
                        <th>Total</th>
                        <th></th>
                      </tr>
                </thead>
                  <tbody>
                    <tr *ngFor="let product of products; let index = index">
                        <td> <img src="{{product.item.image}}"> </td>
                        <td class="fw-bold">{{product.item.title}}</td>
                        <td class="fw-bold"> {{product.item.price}} L.E</td>
                        <td>
                            {{product.quantity}}
                        </td>
                        <td class="fw-bold"> {{product.item.price * product.quantity }} L.E</td>
                        <td> 
                            <button class="btn btn-danger fw-bold"> Delete</button> 
                        </td>
                    </tr>
                  </tbody>
                  <tfoot>
                    <tr>
                        <th></th>
                        <th></th>
                        <th></th>
                        <th></th>
                        <th>Total :{{total}}</th>
                    </tr>
                  </tfoot>
              </table>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary">Save changes</button>
        </div>
      </div>
    </div>
  </div>